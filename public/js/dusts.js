(function(dust){dust.register("2q2rAuth",body_0);function body_0(chk,ctx){return chk.p("2q2rGenerate",ctx,ctx,{"keys":ctx.get(["keys"], false)}).p("2q2rAuthInfo",ctx,ctx,{"keys":ctx.get(["keys"], false)});}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("2q2rAuthInfo",body_0);function body_0(chk,ctx){return chk.w("<div class=\"info\"><h6><b> Steps to authenticate: </b></h6><ol><li> Check your phone for a push notification. </li><li> Alternatively, scan the QR code with the 2Q2R App. </li><li> Check that the blue characters below the QR code match the ones displayed by the app.<a id=\"trigger-challenge\" class=\"modal-trigger\" href=\"#modal-challenge\">Why?</a></li><li> Press the green OKAY button on your phone. </li><li> Different code? Notify your administator.<a id=\"trigger-notify\" class=\"modal-trigger\" href=\"#modal-notify\">Why?</a></li></ol><!-- The first 'why' displayed next to step 3 --><div id=\"modal-challenge\" class=\"modal\"><div class=\"modal-content\"><h4>Why check the challenges?</h4><p> In the process of authenticating the user, the 2Q2R server <b>issues a challenge</b> that has to be included in the digitally signed message from the device. Part of the challenge is displayed in the form of 8 large font characters and 20 small font characters.</p><p> By checking the first 8 characters, you reduce the chance of login hijacking to <b>1 in 281 trillions</b>.</p><p> Should you check all displayed characters, chances are reduced to<b> 1 in 374 trillion trillion trillion trillions</b></p></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div><!-- The second one on the last step --><div id=\"modal-notify\" class=\"modal\"><div class=\"modal-content\"><h4>Why notify the admin?</h4><p> The 2Q2R server carefully manages the challenges. A discrepancy in the displayed challenge, particularly a small one, indicates a possible security attack. </p></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div><!-- Actions under the instructions --><div class=\"qr-actions\"><a class=\"waves-effect waves-light btn\" id=\"back\">Back</a><!-- never goes anywhere, just lets the user know --><div class=\"preloader-wrapper small active\"><div class=\"spinner-layer spinner-blue-only\"><div class=\"circle-clipper left\"><div class=\"circle\"></div></div><div class=\"gap-patch\"><div class=\"circle\"></div></div><div class=\"circle-clipper right\"><div class=\"circle\"></div></div></div></div><p>Waiting for scan...</p></div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("2q2rGenerate",body_0);function body_0(chk,ctx){return chk.w("<div class=\"qr-container\"><div id=\"qrcode\"></div><div id=\"challenge-big\"></div><div id=\"challenge-small\"></div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("2q2rRegister",body_0);function body_0(chk,ctx){return chk.p("2q2rGenerate",ctx,ctx,{"key":ctx.get(["key"], false)}).p("2q2rRegisterInfo",ctx,ctx,{"key":ctx.get(["key"], false)});}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("2q2rRegisterInfo",body_0);function body_0(chk,ctx){return chk.w("<div class=\"info\"><h6><b>Steps to register: </b></h6><ol><li> Scan the QR code with the 2Q2R App. </li><li> Check that the blue characters below the QR code match the ones displayed by the app. <a id=\"trigger-challenge\" class=\"modal-trigger\" href=\"#modal-challenge\">Why?</a></li></li><li> Press the green OKAY button on your phone. </li><li> Different code? Notify your administator. <a id=\"trigger-notify\" class=\"modal-trigger\" href=\"#modal-notify\">Why?</a></li></ol><!-- The first 'why' displayed next to step 3 --><div id=\"modal-challenge\" class=\"modal\"><div class=\"modal-content\"><h5>Why check the challenges?</h5><p> In the process of authenticating the user, the 2Q2R server <b>issues a challenge</b> that has to be included in the digitally signed message from the device. Part of the challenge is displayed in the form of 8 large font characters and 20 small font characters.</p><p> By checking the first 8 characters, you reduce the chance of login hijacking to <b>1 in 281 trillions</b>.</p><p> Should you check all displayed characters, chances are reduced to<b> 1 in 374 trillion trillion trillion trillions</b></p></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div><!-- The second one on the last step --><div id=\"modal-notify\" class=\"modal\"><div class=\"modal-content\"><h4>Why notify the admin?</h4><p> The 2Q2R server carefully manages the challenges. A discrepancy in the displayed challenge, particularly a small one, indicates a possible security attack. </p></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div><!-- the actions under the instructions --><div class=\"qr-actions\"><a class=\"waves-effect waves-light btn\" id=\"back\">Back</a><!-- spinner goes nowhere, just to tell users that it is waiting --><div class=\"preloader-wrapper small active\"><div class=\"spinner-layer spinner-blue-only\"><div class=\"circle-clipper left\"><div class=\"circle\"></div></div><div class=\"gap-patch\"><div class=\"circle\"></div></div><div class=\"circle-clipper right\"><div class=\"circle\"></div></div></div></div><p>Waiting for scan...</p></div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("authKeyList",body_0);function body_0(chk,ctx){return chk.w("<div class=\"register key-list\"><div class=\"key-list-keys\">").p("keyList",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("\n</div><div class=\"key-list-divider\"></div><div class=\"key-list-info\">").p("keyInfo",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("</div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("deleteKeyList",body_0);function body_0(chk,ctx){return chk.w("<div class=\"register key-list\"><div class=\"key-list-keys\">").p("keyList",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("\n</div><div class=\"key-list-divider\"></div><div class=\"key-list-info\">").p("keyInfo",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("</div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("deleteMessage",body_0);function body_0(chk,ctx){return chk.s(ctx.get(["key"], false),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<div class=\"delete-message\"><h5>").f(ctx.get(["name"], false),ctx,"h").w(" was successfully deleted.</h5></div>");}body_1.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("keyInfo",body_0);function body_0(chk,ctx){return chk.w("<div id=\"keyInfo\"><div><p> Please select the key to use for authentication. Make sure you have access to the authentication device you select.</p> </div>").s(ctx.get(["keys"], false),ctx,{"block":body_1},{}).w("</div>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<div class=\"key-list-info-key hidden\" id=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-ki\">").h("select",ctx,{"block":body_2},{"key":ctx.get(["type"], false)},"h").w("</div>");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.h("none",ctx,{"block":body_3},{},"h").h("eq",ctx,{"block":body_4},{"value":"2q2r"},"h").h("eq",ctx,{"block":body_5},{"value":"u2f"},"h").h("any",ctx,{"block":body_6},{},"h");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<h1>This key type is not implemented </h1>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<p> 2Q2R App Key</p>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<p> U2F Key </p>");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<p><input type=\"checkbox\" id=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-def\" value=\"").f(ctx.get(["$idx"], false),ctx,"h").w("\" name=\"keyradio\"><label for=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-def\">Set as default and login fast</label></p>                  ");}body_6.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("keyList",body_0);function body_0(chk,ctx){return chk.w("<form id=\"form-kt\"><h6>Select the key.</h6>").s(ctx.get(["keys"], false),ctx,{"block":body_1},{}).w("<a class=\"waves-effect waves-light btn\" id=\"continue\">Continue</a></form>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<p id=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-cb\"><input class=\"with-gap\" type=\"radio\" value=\"").f(ctx.get(["$idx"], false),ctx,"h").w("\" id=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-i\" name=\"keyradio\"><label for=\"").f(ctx.get(["$idx"], false),ctx,"h").w("-i\"><b>").f(ctx.get(["name"], false),ctx,"h").w("</b> [").f(ctx.get(["type"], false),ctx,"h").w("]</label></p>");}body_1.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("keyTypeInfo",body_0);function body_0(chk,ctx){return chk.w("<div id=\"keyInfo\"><div><h6><b>About 2Q2R</b></h6><p> 2Q2R is developed by <a target=\"_blank\" href=\"http://www.terainsights.com\">Tera Insights</a>. The primary goal of 2Q2R is to make two-factor authentication accessible and secure. You can read more details at <a target=\"_blank\" href=\"http://2q2r.com\">2q2r.com</a> </p><h6><b>Elliptic Curves make two-factor authentication secure</b></h6><p>The 2Q2R authentication uses exclusively digital signing based on the<a id=\"trigger-ecdsa\" class=\"modal-ecdsa\" href=\"#modal-ecdsa\"> NIST P-256 elliptic curve </a> to authenticateyou. Irrespective of the device type you use, an elliptic curve is generated upon registration and used to digitallysign server challenges when authenticating.</p></div><div class=\"key-list-info-key hidden\" id=\"2q2r-ki\"><h5><b>2Q2R App Requirements</b></h5><ul><li> Android 4.4+, iOS 9+ </li><li> Front facing camera and internet capable </li><li> Password or fingerprint protected <a id=\"trigger-passwd\" class=\"modal-passwd\" href=\"#modal-passwd\">Why?</a></li><li> Internet capable (WiFi or cell) </li><li> <b>Note:</b> The device does not need to be a cell phone </li></ul><div class=\"badge-container\"><a href=\"#\"><img class=\"badge\" src=\"../img/google-play-badge.png\"></a><a href=\"#\"><img class=\"badge\" src=\"../img/app-store-badge.svg\"></a></div><h6>2Q2R apps respect and protect your privacy. <a id=\"trigger-priv\" class=\"modal-priv\" href=\"#modal-priv\">How?</a></h6></div><div class=\"key-list-info-key hidden\" id=\"u2f-ki\"><h6><b>FIDO U2F Device</b></h6><p>FIDO U2F keys use a <a target=\"_blank\" href=\"https://fidoalliance.org/\">FIDO</a> U2F security key to authenticate.This method constitutes of inserting the key into a USB slot and pressing the button on the key.</p><h6>The following U2F devices will work with 2Q2R:</h6><ul><li> <a target=\"_blank\" href=\"https://www.yubico.com/products/yubikey-hardware/fido-u2f-security-key/\">Yubico FIDO U2F </a></li><li> <a target=\"_blank\" href=\"http://HyperFIDO.com\">HyperSecu</a>, <a target=\"_blank\" href=\"http://www.smartcardfocus.us/shop/ilp/id~762/key-id-fido-u2f-token/p/index.shtml\">Key-Id</a>                </li><li> <a target=\"_blank\" href=\"http://sk.happlink.com/plugup/en/\">Happlink plug-up</a></li></ul><p> <b>Requires:</b> Chrome 41+, Firefox 38+ with <a target=\"_blank\" href=\"https://addons.mozilla.org/en-US/firefox/addon/u2f-support-add-on/\">U2F add-on</a></p></div></div><div id=\"modal-passwd\" class=\"modal\"><div class=\"modal-content\"><h5>Why lock your phone?</h5><p> 2Q2R apps leverage your phone's cryptographic capabilities to implement secure two-factor authentication. These capabilitiesare only available if you lock your phone.</p><p>The iOS 2Q2R app uses Touch ID and the Secure Enclave (if you have an A7 processor), and the Android 2Q2R app usesthe keystore system to protect the signing keys. </p></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div><div id=\"modal-priv\" class=\"modal\"><div class=\"modal-content\"><h5>Respecting and protecting your privacy.</h5><ul><li> 2Q2R app does not need to know nor asks for your identifying information like <b>name</b>,<b> phone number</b> or <b>location</b> </li><li> For each different user/server combination a different key is generated with its own unique key ID to preventtracking.</li></ul></div><div class=\"modal-footer\"><a href=\"#!\" class=\" modal-action modal-close waves-effect waves-green btn-flat\">Dismiss</a></div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("keyTypeList",body_0);function body_0(chk,ctx){return chk.w("<form id=\"form-kt\"><h6><b>Select the type of device.</b></h6> ").s(ctx.get(["keys"], false),ctx,{"block":body_1},{}).w("<a class=\"waves-effect waves-light btn\" id=\"continue\">Continue</a></form>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<p id=\"").f(ctx.get(["value"], false),ctx,"h").w("-cb\"><input class=\"with-gap\" type=\"radio\" name=\"keyradio\" value=\"").f(ctx.get(["value"], false),ctx,"h").w("\" id=\"").f(ctx.get(["value"], false),ctx,"h").w("\"><label for=\"").f(ctx.get(["value"], false),ctx,"h").w("\">").f(ctx.get(["name"], false),ctx,"h").w("</label></p>");}body_1.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("main",body_0);function body_0(chk,ctx){return chk.p("toolbar",ctx,ctx,{"title":ctx.get(["title"], false)}).w("<div class=\"state-container\" id=\"state\"></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("registerKeyList",body_0);function body_0(chk,ctx){return chk.w("<div class=\"register key-list\"><div class=\"key-list-keys\">").p("keyTypeList",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("\n</div><div class=\"key-list-divider\"></div><div class=\"key-list-info\">").p("keyTypeInfo",ctx,ctx,{"keys":ctx.get(["keys"], false)}).w("</div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("toolbar",body_0);function body_0(chk,ctx){return chk.w("<!-- our toolbar --><div class=\"main-toolbar\"><img src=\"/img/2q2r-logo-words.svg\" class=\"main-toolbar-brand\"><div class=\"main-toolbar-title\">").f(ctx.get(["title"], false),ctx,"h").w("</div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("u2fAuth",body_0);function body_0(chk,ctx){return chk.w("<div id=\"u2f-msg\"><p> Insert the U2F device  and the press the button.</p></div><div id=\"u2f-window\" class=\"hidden\"><p> It seems that security restrictions prevent the iframe to communicate with the FIDO U2F device. Please click the button below to open thisdialog in a new window. </p><p> Make sure you grant permission to </p><a class=\"waves-effect waves-light btn\" onclick=\"window.open('").f(ctx.get(["windowUrl"], false),ctx,"h").w("')\">Open in new window</a></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("u2fRegister",body_0);function body_0(chk,ctx){return chk.w("<div id=\"u2f-msg\"><p> Insert the U2F device  and the press the button.</p></div><div id=\"u2f-window\" class=\"hidden\"><p> It seems that security restrictions prevent the iframe to communicate with the FIDO U2F device. Please click the button below to open thisdialog in a new window. </p><p> Make sure you grant permission to </p><a class=\"waves-effect waves-light btn\" onclick=\"window.open('").f(ctx.get(["windowUrl"], false),ctx,"h").w("')\">Open in new window</a></div>");}body_0.__dustBody=!0;return body_0}(dust));